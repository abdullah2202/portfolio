<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Abdullah | DevOps Engineer</title>
  <meta name="description" content="DevOps Engineer portfolio. AWS, Terraform, CI/CD, GitHub Actions." />

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="container topbar__inner">
      <a class="brand" href="#">
        <span class="brand__mark">A</span>
        <span class="brand__text">mabdullah.dev</span>
      </a>

      <nav class="nav">
        <a href="#projects">Projects</a>
        <a href="#pipeline">Pipeline</a>
        <a href="#about">About</a>
        <a href="#contact" class="nav__cta">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero__grid">
        <div class="hero__copy">
          <p class="pill">DevOps Engineer • AWS • Terraform • CI/CD</p>
          <h1>Building reliable delivery pipelines and cloud infrastructure.</h1>
          <p class="lead">
            I design and automate cloud-native platforms with Infrastructure as Code,
            GitHub Actions pipelines, and scalable AWS architectures.
          </p>

          <div class="hero__actions">
            <a class="btn btn--primary" href="#projects">View Projects</a>
            <a class="btn btn--ghost" href="https://github.com/abdullah2202" target="_blank" rel="noreferrer">
              GitHub Profile
            </a>
          </div>

          <div class="stats">
            <div class="stat">
              <div class="stat__num" id="projCount">—</div>
              <div class="stat__label">Projects</div>
            </div>
            <div class="stat">
              <div class="stat__num">AWS</div>
              <div class="stat__label">Cloud Focus</div>
            </div>
            <div class="stat">
              <div class="stat__num">IaC</div>
              <div class="stat__label">Terraform</div>
            </div>
          </div>
        </div>

        <aside class="hero__card">
          <div class="card">
            <div class="card__header">
              <h2>Current Stack</h2>
              <p>What this portfolio is built with</p>
            </div>
            <ul class="list">
              <li><span class="dot"></span> S3 static hosting</li>
              <li><span class="dot"></span> CloudFront + HTTPS</li>
              <li><span class="dot"></span> Terraform (IaC)</li>
              <li><span class="dot"></span> GitHub Actions (CI/CD)</li>
              <li><span class="dot"></span> Branching: feature → dev → main</li>
            </ul>
          </div>
        </aside>
      </div>
    </section>

    <section id="projects" class="section">
      <div class="container">
        <div class="section__header">
          <div>
            <h2>Projects</h2>
            <p class="muted">A few things I’ve built. Each one lives on GitHub.</p>
          </div>

          <div class="search">
            <input id="searchInput" type="search" placeholder="Search projects…" aria-label="Search projects">
          </div>
        </div>

        <div id="projectsGrid" class="grid"></div>

        <div id="emptyState" class="empty" hidden>
          <p>No projects match your search.</p>
        </div>
      </div>
    </section>

    <section id="pipeline" class="section">
      <div class="container">
        <div class="section__header">
          <div>
            <h2>Pipeline & Infrastructure</h2>
            <p class="muted">
              This website is deployed like a real DevOps project: IaC + CI/CD + AWS edge delivery.
            </p>
          </div>
        </div>

        <div class="pipeline">
          <div class="card">
            <h3>How it works</h3>
            <ul class="pipeline__list">
              <li><span class="dot dot--accent"></span> Create a feature branch off <strong>dev</strong></li>
              <li><span class="dot dot--accent"></span> PR → <strong>dev</strong> runs CI and deploys to <strong>dev.mabdullah.dev</strong></li>
              <li><span class="dot dot--accent"></span> PR → <strong>main</strong> deploys to <strong>mabdullah.dev</strong></li>
              <li><span class="dot dot--accent"></span> Terraform manages S3 + CloudFront + ACM</li>
            </ul>

            <div class="pipeline__badges">
              <span class="chip">Terraform</span>
              <span class="chip">GitHub Actions</span>
              <span class="chip">S3</span>
              <span class="chip">CloudFront</span>
              <span class="chip">ACM (us-east-1)</span>
            </div>
          </div>

          <div class="card pipeline__diagram" aria-label="CI/CD and AWS architecture diagram">
            <svg viewBox="0 0 980 420" role="img" aria-label="CI/CD pipeline diagram">
              <!-- background -->
              <defs>
                <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                  <fedropshadow dx="0" dy="10" stdDeviation="10" flood-opacity="0.25"/>
                </filter>
              </defs>

              <!-- left: git -->
              <g filter="url(#shadow)">
                <rect x="40" y="50" width="260" height="140" rx="18" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.12)"/>
                <text x="70" y="92" fill="rgba(255,255,255,0.92)" font-size="20" font-weight="700">GitHub</text>
                <text x="70" y="124" fill="rgba(255,255,255,0.70)" font-size="14">feature/* → dev → main</text>
                <text x="70" y="150" fill="rgba(255,255,255,0.70)" font-size="14">PR checks + approvals</text>
              </g>

              <!-- middle: actions -->
              <g filter="url(#shadow)">
                <rect x="360" y="50" width="260" height="140" rx="18" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.12)"/>
                <text x="390" y="92" fill="rgba(255,255,255,0.92)" font-size="20" font-weight="700">GitHub Actions</text>
                <text x="390" y="124" fill="rgba(255,255,255,0.70)" font-size="14">terraform fmt/validate</text>
                <text x="390" y="150" fill="rgba(255,255,255,0.70)" font-size="14">aws s3 sync + invalidation</text>
              </g>

              <!-- right: aws -->
              <g filter="url(#shadow)">
                <rect x="680" y="30" width="260" height="180" rx="18" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.12)"/>
                <text x="710" y="72" fill="rgba(255,255,255,0.92)" font-size="20" font-weight="700">AWS</text>

                <rect x="710" y="92" width="200" height="44" rx="14" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.10)"/>
                <text x="730" y="120" fill="rgba(255,255,255,0.78)" font-size="14">S3 (static content)</text>

                <rect x="710" y="144" width="200" height="44" rx="14" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.10)"/>
                <text x="730" y="172" fill="rgba(255,255,255,0.78)" font-size="14">CloudFront (CDN + HTTPS)</text>
              </g>

              <!-- bottom: users -->
              <g filter="url(#shadow)">
                <rect x="360" y="260" width="580" height="110" rx="18" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.12)"/>
                <text x="390" y="302" fill="rgba(255,255,255,0.92)" font-size="18" font-weight="700">Users</text>
                <text x="390" y="332" fill="rgba(255,255,255,0.70)" font-size="14">dev.mabdullah.dev (staging) • mabdullah.dev (production)</text>
              </g>

              <!-- arrows -->
              <g stroke="rgba(255,255,255,0.55)" stroke-width="3" fill="none">
                <path d="M300 120 C320 120, 340 120, 360 120" />
                <path d="M620 120 C640 120, 660 120, 680 120" />
                <path d="M810 210 C810 230, 760 250, 700 260" />
              </g>

              <!-- arrowheads -->
              <g fill="rgba(255,255,255,0.55)">
                <polygon points="360,120 348,114 348,126"/>
                <polygon points="680,120 668,114 668,126"/>
                <polygon points="700,260 712,254 712,266"/>
              </g>

              <!-- note -->
              <text x="40" y="230" fill="rgba(255,255,255,0.60)" font-size="13">
                IaC: Terraform provisions S3 + CloudFront + ACM. CI/CD syncs static files and invalidates cache.
              </text>
            </svg>
          </div>
        </div>
      </div>
    </section>


    <section id="about" class="section section--alt">
      <div class="container about">
        <div>
          <h2>About</h2>
          <p class="muted">
            I focus on practical DevOps: repeatable environments, secure-by-default cloud infrastructure,
            and automation that reduces operational toil.
          </p>
          <div class="chips">
            <span class="chip">Terraform</span>
            <span class="chip">AWS</span>
            <span class="chip">CloudFront</span>
            <span class="chip">S3</span>
            <span class="chip">GitHub Actions</span>
            <span class="chip">Linux</span>
          </div>
        </div>

        <div class="card card--thin">
          <h3>Quick links</h3>
          <div class="links">
            <a href="https://github.com/abdullah2202" target="_blank" rel="noreferrer">GitHub</a>
            <a href="#contact">Email</a>
            <a href="#projects">Projects</a>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="section">
      <div class="container contact">
        <div class="card">
          <h2>Contact</h2>
          <p class="muted">
            Want to chat about DevOps, Terraform, or CI/CD? Reach out.
          </p>

          <!-- Replace with your email -->
          <a class="btn btn--primary" href="mailto:your.email@example.com">Email me</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer__inner">
      <p>© <span id="year"></span> Abdullah • Built with AWS + Terraform + GitHub Actions</p>
      <a href="#top" class="muted">Back to top</a>
    </div>
  </footer>

  <script>
    const yearEl = document.getElementById('year');
    yearEl.textContent = new Date().getFullYear();

    const grid = document.getElementById('projectsGrid');
    const emptyState = document.getElementById('emptyState');
    const searchInput = document.getElementById('searchInput');
    const projCount = document.getElementById('projCount');

    let projects = [];

    function escapeHtml(str) {
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    function render(list) {
      grid.innerHTML = "";
      if (!list.length) {
        emptyState.hidden = false;
        return;
      }
      emptyState.hidden = true;

      for (const p of list) {
        const name = escapeHtml(p.name ?? "Untitled");
        const desc = escapeHtml(p.description ?? "");
        const github = escapeHtml(p.github ?? "#");

        const el = document.createElement('article');
        el.className = "project";
        el.innerHTML = `
          <div class="project__top">
            <h3>${name}</h3>
            <span class="badge">GitHub</span>
          </div>
          <p class="project__desc">${desc}</p>
          <div class="project__actions">
            <a class="link" href="${github}" target="_blank" rel="noreferrer">View repo →</a>
          </div>
        `;
        grid.appendChild(el);
      }
    }

    function filterAndRender() {
      const q = (searchInput.value || "").trim().toLowerCase();
      if (!q) return render(projects);

      const filtered = projects.filter(p =>
        (p.name || "").toLowerCase().includes(q) ||
        (p.description || "").toLowerCase().includes(q)
      );
      render(filtered);
    }

    fetch('projects.json')
      .then(r => r.json())
      .then(data => {
        projects = Array.isArray(data) ? data : [];
        projCount.textContent = projects.length || 0;
        render(projects);
      })
      .catch(() => {
        projects = [];
        projCount.textContent = 0;
        render([]);
      });

    searchInput.addEventListener('input', filterAndRender);
  </script>
</body>
</html>
